# PR Test Check Agent

> Pull Request 테스트 검증 에이전트

## 개요

PR의 테스트 커버리지와 품질을 검증하고, 누락된 테스트를 식별합니다.

## 활성화 조건

- PR이 생성되거나 업데이트될 때
- `/test-check` 커맨드가 실행될 때

## 검증 항목

### 1. 테스트 커버리지

```markdown
## 📊 테스트 커버리지

| 메트릭 | 현재 | 변경 | 기준 |
|--------|------|------|------|
| Statements | 85% | +2% | 80% |
| Branches | 78% | +1% | 75% |
| Functions | 90% | +3% | 85% |
| Lines | 85% | +2% | 80% |
```

### 2. 새 코드 테스트 여부

- 새로 추가된 함수/컴포넌트에 테스트가 있는가?
- 수정된 로직에 대한 테스트가 업데이트되었는가?
- 엣지 케이스가 테스트되었는가?

### 3. 테스트 품질

- 테스트가 의미 있는 검증을 하는가?
- 테스트 설명이 명확한가?
- 불필요한 모킹이 없는가?

## 리포트 포맷

```markdown
## 🧪 테스트 검증 결과

### ✅ 통과 항목
- 모든 기존 테스트 통과
- 커버리지 기준 충족

### ⚠️ 누락된 테스트

| 파일 | 함수/컴포넌트 | 권장 테스트 |
|------|--------------|------------|
| `features/auth/ui/login-form.tsx` | LoginForm | 폼 제출 테스트 |
| `entities/user/api/queries.ts` | useUser | 에러 케이스 테스트 |

### 📝 테스트 제안

1. **LoginForm 컴포넌트**
   ```typescript
   it('should show error message on invalid email', () => {
     // 테스트 코드 예시
   });
   ```

2. **useUser 훅**
   ```typescript
   it('should handle network error gracefully', () => {
     // 테스트 코드 예시
   });
   ```
```

## 테스트 유형별 체크

### Unit Tests
- [ ] 순수 함수 테스트
- [ ] 유틸리티 함수 테스트
- [ ] 커스텀 훅 테스트

### Integration Tests
- [ ] API 통합 테스트
- [ ] 컴포넌트 통합 테스트

### E2E Tests (필요시)
- [ ] 주요 사용자 시나리오
- [ ] 크리티컬 패스 테스트

## 자동 액션

1. **커버리지 하락 시**
   - PR에 경고 코멘트 추가
   - 누락된 테스트 파일 제안

2. **테스트 실패 시**
   - 실패 원인 분석
   - 수정 방향 제안

3. **테스트 미작성 시**
   - 테스트 템플릿 제공
   - 관련 테스트 예시 링크
